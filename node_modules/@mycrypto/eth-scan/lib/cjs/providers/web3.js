"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.send=exports.callWithWeb3=exports.isWeb3Provider=void 0;var _utils=require("../utils"),_http=require("./http");/**
 * Check if an object is a valid Web3ProviderLike object.
 *
 * @param {any} provider
 * @return {boolean}
 */const isWeb3Provider=a=>{var b;return(null===a||void 0===a||null===(b=a.currentProvider)||void 0===b?void 0:b.send)!==void 0};/**
 * Call the contract with a Web3 provider. This throws an error if the call failed.
 *
 * @param {Web3ProviderLike} provider
 * @param {string} contractAddress
 * @param {string} data
 * @return {Promise<Buffer>}
 */exports.isWeb3Provider=isWeb3Provider;const callWithWeb3=async(a,b,c)=>{const d=(0,_http.getPayload)(b,c);try{const b=await send(a,d);return(0,_utils.stringToBuffer)(b.result)}catch(a){throw new Error(`Contract call failed: ${a.message}`)}};exports.callWithWeb3=callWithWeb3;const send=(a,b)=>new Promise((c,d)=>{a.currentProvider.send(b,(a,b)=>a?d(a):b?void c(b):d(new Error("No response payload")))});exports.send=send;
//# sourceMappingURL=web3.js.map