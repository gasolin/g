import{ETHER_BALANCES_ID,ETHER_BALANCES_TYPE,TOKEN_BALANCES_ID,TOKEN_BALANCES_TYPE}from"../constants";import{decode,encode,encodeWithId,stringToBuffer}from"./abi";describe("decode",()=>{it("should decode data",()=>{const a=stringToBuffer("0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000056bc75e2d63100000"),b=decode(["uint256[]"],a)[0];expect(b).toHaveLength(1),expect(b[0]).toBe(100000000000000000000n)})}),describe("encode",()=>{it("should encode addresses",()=>{const a=encode(ETHER_BALANCES_TYPE,["0xf00f00f00f00f00f00f00f00f00f00f00f00f00f"]);expect(a).toBe("0x00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f00f00f00f00f00f00f00f00f00f00f00f00f00f")}),it("should encode addresses with a token specified",()=>{const a=encode(TOKEN_BALANCES_TYPE,["0xf00f00f00f00f00f00f00f00f00f00f00f00f00f"],"0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359");expect(a).toBe("0x000000000000000000000000000000000000000000000000000000000000004000000000000000000000000089d24a6b4ccb1b6faa2625fe562bdd9a232603590000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f00f00f00f00f00f00f00f00f00f00f00f00f00f")})}),describe("encodeWithId",()=>{it("should encode addresses with a function identifier",()=>{const a=encodeWithId(ETHER_BALANCES_ID,ETHER_BALANCES_TYPE,["0xf00f00f00f00f00f00f00f00f00f00f00f00f00f"]);expect(a).toBe("0x"+ETHER_BALANCES_ID+"00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f00f00f00f00f00f00f00f00f00f00f00f00f00f")}),it("should encode addresses with a function identifier and a token specified",()=>{const a=encodeWithId(TOKEN_BALANCES_ID,TOKEN_BALANCES_TYPE,["0xf00f00f00f00f00f00f00f00f00f00f00f00f00f"],"0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359");expect(a).toBe("0x"+TOKEN_BALANCES_ID+"000000000000000000000000000000000000000000000000000000000000004000000000000000000000000089d24a6b4ccb1b6faa2625fe562bdd9a232603590000000000000000000000000000000000000000000000000000000000000001000000000000000000000000f00f00f00f00f00f00f00f00f00f00f00f00f00f")})});
//# sourceMappingURL=abi.test.js.map