import fetch from"isomorphic-unfetch";import{stringToBuffer}from"../utils";/**
 * Check if an object is a valid HttpProviderLike object.
 *
 * @param {any} provider
 * @return {boolean}
 */export const isHttpProvider=a=>"string"==typeof a||"object"==typeof a&&void 0!==a.url;/**
 * Call the contract with the HTTP provider. This throws an error if the call failed.
 *
 * @param {HttpProviderLike} provider
 * @param {string} contractAddress
 * @param {string} data
 * @return {Promise<Buffer>}
 */export const callWithHttp=async(a,b,c)=>{const d="string"==typeof a?a:a.url,e="object"==typeof a?a.params:{},f=getPayload(b,c),g=await fetch(d,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(f),cache:"no-cache",...e}),h=await g.json();if(h.error)throw new Error(`Contract call failed: ${h.error.message}`);return stringToBuffer(h.result)};/**
 * Get the JSON-RPC payload for the `eth_call` function.
 *
 * @param {string} to The address to send the call to, as a hexadecimal string.
 * @param {string} data The data to send to the address, as a hexadecimal string.
 */export const getPayload=(a,b)=>({jsonrpc:"2.0",method:"eth_call",params:[{to:a,data:b},"latest"],id:1});
//# sourceMappingURL=http.js.map